


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview &mdash; Psithon for PSI4 documentation</title>
    
    <link rel="stylesheet" href="../../_static/psi4.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '4.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/toggle_sections.js"></script>
    <link rel="top" title="Psithon for PSI4 documentation" href="../../index.html" /> 
    <script type="text/javascript" src="../../_static/copybutton.js"></script> 

  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><a href="../../index.html">Psithon for PSI4 Documentation</a> &raquo; </li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="overview">
<span id="overwiew"></span><h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="xref py py-mod docutils literal"><span class="pre">SphinxReport</span></tt> module is an extension for <tt class="xref py py-mod docutils literal"><span class="pre">sphinx</span></tt>
that provides facilities for data retrieval and data rendering
within reStructured text.</p>
<div class="section" id="features">
<span id="id1"></span><h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-mod docutils literal"><span class="pre">SphinxReport</span></tt> is a report generator that is implemented as an extension
to <tt class="xref py py-mod docutils literal"><span class="pre">Sphinx</span></tt>. It is easy to use and powerful enough to give all the flexibility
needed during the development of computational pipelines and robustness during the
production use of a pipeline.</p>
<p>It is intended for developers and computational scientists with <tt class="docutils literal"><span class="pre">python</span></tt> scripting experience.</p>
<p>Briefly, the <tt class="xref py py-mod docutils literal"><span class="pre">SphinxReport</span></tt> is a report generator that is implemented as an extension
to <tt class="xref py py-mod docutils literal"><span class="pre">Sphinx</span></tt>. It</p>
<ul class="simple">
<li>uses simple markup in the form of restructured text</li>
<li>supports both automated and narrative analysis</li>
<li>keeps code and annotation together</li>
<li>takes care of indexing, formatting to produce something pretty</li>
<li>produces static html and pdf</li>
<li>provides the power of python within text</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="xref py py-mod docutils literal"><span class="pre">SphinxReport</span></tt> extension has three parts:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">Renderers</span></tt> are provided by the <tt class="xref py py-mod docutils literal"><span class="pre">SphinxReport</span></tt> extension and are used to display data
as graphs or tables. They can be incorporated into restructured text files using the <tt class="docutils literal"><span class="pre">:report::</span></tt> directive.</li>
<li><tt class="docutils literal"><span class="pre">Trackers</span></tt> are python classes and are provided by the user and collect data. The data can be obtained from
data sources like flat files, SQL tables and more. Trackers provide data by <a class="reference internal" href="Glossary.html#term-track"><em class="xref std std-term">track</em></a> and <a class="reference internal" href="Glossary.html#term-slice"><em class="xref std std-term">slice</em></a>.
Tracks are principal collections of data, for example data measurements taken from different species. Slices
are subsections of the data. For example, a <tt class="xref py py-class docutils literal"><span class="pre">Tracker</span></tt> might provide <em>weight</em> measurements of different species
according to the slice <em>gender</em>.</li>
<li>:file:<tt class="docutils literal"><span class="pre">sphinxreport-build</span></tt> is used to build a document.</li>
</ol>
<p>The following minimal example illustrates how Renderers and Trackers work together. A <tt class="docutils literal"><span class="pre">:report:</span></tt>
directive like:</p>
<div class="highlight-python"><pre>.. report:: BarData
   :render: bars</pre>
</div>
<p>will insert a barplot (<tt class="xref py py-class docutils literal"><span class="pre">RendererInterleavedBars</span></tt>) at the current
location. The Renderer will obtain the data from a python class or function <em>BarData</em> in the file
<tt class="file docutils literal"><span class="pre">Trackers.py</span></tt> that should be somewhere in the python search path (see <a class="reference internal" href="Introduction.html#configuration"><em>Configuration</em></a>).
The function <em>BarData</em> might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@returnLabeledData</span>
<span class="k">def</span> <span class="nf">BarData</span><span class="p">():</span> <span class="k">return</span> <span class="p">[(</span><span class="s">&quot;bar1&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s">&quot;bar2&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span>
</pre></div>
</div>
<p>The document is built using the usual <tt class="xref py py-mod docutils literal"><span class="pre">Sphinx</span></tt> process:</p>
<div class="highlight-python"><pre>sphinx-build -b html -d _build/doctrees   . _build/html</pre>
</div>
<p>See the <a class="reference internal" href="Tutorials.html#tutorials"><em>Tutorials</em></a> for a more complete introduction on how to use the extension. See
<a class="reference internal" href="Running.html#running"><em>Running a build</em></a> on more advanced building methods.</p>
</div>
<div class="section" id="background">
<span id="id2"></span><h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>Scientific datasets these days are large and are usually processed by
computational pipelines creating a wealth of derived data, very often
stored in a database. With computational power always increasing,
the bottleneck is usually the subsequent analysis.</p>
<p>Especially during code development and in the early exploratory stages, the data
are sliced and plotted in multiple ways to find problems and understand the data.
At the same time, the plots and tables are embedded into text with comments and
notes that should later result in a publication. As bugs are fixed and the data
are understood better, the plots and tables need to be frequently updated. Statically
copying and pasting images into a document becomes tedious quickly.</p>
<p>The interactive analysis is later followed by re-runs of the pipeline
on different data sets or with different parameters. Again the data is sliced
and plotted, this time to confirm the successful completion of the pipeline
and to compare results to those of previous runs. This is a mostly automatic
task, in which diagnostic plots are created to provide a high-level view
of the results. There is also an interactive component, where plots are
selected to highlight unexpected deviations that are the bread-and-butter of science.</p>
<p>We found no tool that easily bridges the divide of interactive analysis and
automatic updating. On one end of the spectrum is office software with macros
or embedded images linked to physical files. Writing in office software is easy,
there is drag &amp; drop and the result is very close to the desired product: a
publishable manuscript. However, with complicated analyses the macros become
unwieldy. Images on the hard-disc separate the code to create the images from
the document and there is always the danger of links being broken. Taking a live
document and applying it to a new dataset is difficult.</p>
<p>At the other end of the spectrum are full-fledged content management systems
that provide dynamic access to the data. These have a steep learning curve and
require a lot of work to build and maintain. Some design is necessary beforehand
to prevent uncontrolled growth. Unfortunately this is usually at odds with
our experience how computational pipelines in science develop. Such effort is
usually only justifyable for large pipelines, big projects and big teams.</p>
<p>Somewhere in the middle of the spectrum are report generators. These create
static documents, but are designed to be run often and on different datasets.
These are powerful, but often have a steep learning curve. We also found them
lacking in plotting capabilities.</p>
<p>We thought the combination of :mod:<tt class="docutils literal"><span class="pre">Sphinx</span></tt> and :mod:<tt class="docutils literal"><span class="pre">matplotlib</span></tt>
and ideal combination and extended the <tt class="docutils literal"><span class="pre">matplotlib</span></tt> <tt class="docutils literal"><span class="pre">:plot:</span></tt> directive
to interactively collect data. We are heavily indebted to these two
projects.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Sphinx:</dt>
<dd><a class="reference external" href="http://sphinx.pocoo.org">http://sphinx.pocoo.org</a></dd>
<dt>Matplotlib:</dt>
<dd><a class="reference external" href="http://matplotlib.sourceforge.net">http://matplotlib.sourceforge.net</a></dd>
<dt>Python:</dt>
<dd><a class="reference external" href="http://www.python.org">http://www.python.org</a></dd>
<dt>A restructured text quick reference:</dt>
<dd><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">http://docutils.sourceforge.net/docs/user/rst/quickref.html</a></dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overview</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#background">Background</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/SphinxReport-1.0.a3/doc/Overview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><a href="../../index.html">Psithon for PSI4 Documentation</a> &raquo; </li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Psi4 Project.
      Last updated on Mar 15, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>